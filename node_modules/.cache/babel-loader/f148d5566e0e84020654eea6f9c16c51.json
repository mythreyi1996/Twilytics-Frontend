{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\17165\\\\Documents\\\\Sem1\\\\IR\\\\twilytics_frontend\\\\src\\\\components\\\\facets.js\";\nimport React from \"react\";\nimport \"./facets.css\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport ReactLightCalendar from '@lls/react-light-calendar';\nimport '@lls/react-light-calendar/dist/index.css';\n\nclass RenderCalender extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = (startDate, endDate) => {\n      this.setState({\n        startDate,\n        endDate\n      });\n      this.props.onChange(startDate, endDate);\n    };\n\n    const date = new Date();\n\n    const _startDate = date.getTime();\n\n    this.state = {\n      startDate: _startDate,\n      // Today\n      endDate: new Date(_startDate).setDate(date.getDate())\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, React.createElement(ReactLightCalendar, {\n      className: \"calender\",\n      startDate: this.state.startDate,\n      endDate: this.state.endDate,\n      disableDates: date => date > new Date().getTime(),\n      onChange: this.onChange,\n      range: true,\n      displayTime: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass Filter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = (startDate, endDate) => {\n      this.setState({\n        startDate,\n        endDate\n      }); //this.props.onDate(startDate, endDate); \n\n      this.props.ondateSubmit(startDate, endDate, \"dateFrom\", \"dateTo\");\n    };\n\n    this.render = () => {\n      const _this$state = this.state,\n            startDate = _this$state.startDate,\n            endDate = _this$state.endDate;\n      return React.createElement(\"div\", {\n        className: \"dateFilter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        name: \"Date\",\n        checked: this.state.date_check,\n        onChange: e => this.onDateChanged(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), \" Date \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), this.state.date_check === true ? React.createElement(RenderCalender, {\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }) : \"\");\n    };\n\n    const date = new Date();\n\n    const _startDate2 = date.getTime();\n\n    this.state = {\n      date_check: false,\n      startDate: _startDate2,\n      // Today\n      endDate: new Date(_startDate2).setDate(date.getDate())\n    };\n  }\n\n  onDateChanged(e) {\n    this.setState({\n      date_check: !this.state.date_check\n    });\n  }\n\n}\n\nclass Facets extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: {},\n      query: \"\",\n      verified_check: false,\n      facet: {\n        poiName: [],\n        lang: [],\n        hashtags: [],\n        mentions: [],\n        loc: [],\n        dateTo: \"\",\n        dateFrom: \"\",\n        verified: \"\"\n      }\n    };\n\n    this.ondateSubmit = (fieldValue1, fieldValue2, fieldName1, fieldName2) => {\n      const facet = cloneDeep(this.state.facet);\n      facet[fieldName1] = fieldValue1;\n      facet[fieldName2] = fieldValue2;\n      this.setState({\n        facet\n      });\n      this.props.onFilter(JSON.stringify(facet));\n    };\n\n    this.onnameSubmit = (e, fieldValue, fieldName) => {\n      const facet = cloneDeep(this.state.facet);\n\n      if (fieldName && fieldValue && facet[fieldName].includes(fieldValue)) {\n        const index = facet[fieldName].indexOf(fieldValue);\n\n        if (index > -1) {\n          facet[fieldName].splice(index, 1);\n        }\n      } else {\n        facet[fieldName].push(fieldValue);\n      }\n\n      this.setState({\n        facet\n      });\n      console.log(facet);\n      this.props.onFilter(JSON.stringify(facet));\n    };\n\n    this.onverified = (fieldValue, fieldName) => {\n      const facet = cloneDeep(this.state.facet);\n      facet[fieldName] = fieldValue;\n      this.setState({\n        facet\n      });\n      console.log(JSON.stringify(facet));\n      this.props.onFilter(JSON.stringify(facet));\n    };\n\n    this.onReset = () => {\n      this.setState({\n        facet: {\n          poiName: [],\n          lang: [],\n          hashtags: [],\n          mentions: [],\n          loc: [],\n          dateTo: \"\",\n          dateFrom: \"\",\n          verified: \"\"\n        }\n      });\n      this.props.onFilter(JSON.stringify(this.state.facet));\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.facets !== prevState.name) {\n      console.log(nextProps.facets);\n      return {\n        name: nextProps.facets\n      };\n    }\n\n    return null;\n  }\n\n  onVerifiedChanged(e) {\n    this.setState({\n      verified_check: !this.state.verified_check\n    });\n    console.log(!this.state.verified_check);\n    var verified = !this.state.verified_check;\n    console.log(verified);\n    this.onverified(verified, \"verified\");\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          name = _this$state2.name,\n          facet = _this$state2.facet;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"resetButtonClass\",\n      onClick: e => this.onReset(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"reset\")), React.createElement(\"div\", {\n      className: \"facetCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Filter, {\n      ondateSubmit: this.ondateSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Verified Users\"), React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"Verified\",\n      onChange: e => this.onVerifiedChanged(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), \" Verified \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Trending Users\"), name && name.userScreenName ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, name.userScreenName.map(poi_name => {\n      const checked = facet.poiName.includes(poi_name);\n      return React.createElement(\"div\", {\n        className: \"facetName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: checked,\n        onChange: e => this.onnameSubmit(e, poi_name, \"poiName\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, poi_name));\n    })) : null), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Languages\"), name && name.lang ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, name.lang.map(poi_lang => {\n      const checked = facet.lang.includes(poi_lang);\n      return React.createElement(\"div\", {\n        className: \"facetName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: checked,\n        onChange: e => this.onnameSubmit(e, poi_lang, \"lang\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, poi_lang));\n    })) : null), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Trending Hashtags\"), name && name.hashtags ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, name.hashtags.map(poi_hashtag => {\n      const checked = facet.hashtags.includes(poi_hashtag);\n      return React.createElement(\"div\", {\n        className: \"facetName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: checked,\n        onChange: e => this.onnameSubmit(e, poi_hashtag, \"hashtags\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, poi_hashtag));\n    })) : null), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Trending Locations\"), name && name.userLocation ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, name.userLocation.map(poi_location => {\n      const checked = facet.loc.includes(poi_location);\n      return React.createElement(\"div\", {\n        className: \"facetName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: checked,\n        onChange: e => this.onnameSubmit(e, poi_location, \"loc\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, poi_location));\n    })) : null)));\n  }\n\n}\n\nexport default Facets;","map":{"version":3,"sources":["C:/Users/17165/Documents/Sem1/IR/twilytics_frontend/src/components/facets.js"],"names":["React","cloneDeep","ReactLightCalendar","RenderCalender","Component","constructor","props","onChange","startDate","endDate","setState","date","Date","getTime","state","setDate","getDate","render","Filter","ondateSubmit","date_check","e","onDateChanged","Facets","name","query","verified_check","facet","poiName","lang","hashtags","mentions","loc","dateTo","dateFrom","verified","fieldValue1","fieldValue2","fieldName1","fieldName2","onFilter","JSON","stringify","onnameSubmit","fieldValue","fieldName","includes","index","indexOf","splice","push","console","log","onverified","onReset","getDerivedStateFromProps","nextProps","prevState","facets","onVerifiedChanged","userScreenName","map","poi_name","checked","poi_lang","poi_hashtag","userLocation","poi_location"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./facets.css\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport ReactLightCalendar from '@lls/react-light-calendar'\r\nimport '@lls/react-light-calendar/dist/index.css'\r\n\r\nclass RenderCalender extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const date = new Date()\r\n        const startDate = date.getTime()\r\n        this.state = { \r\n          startDate, // Today\r\n          endDate: new Date(startDate).setDate(date.getDate()),\r\n        }\r\n    }\r\n\r\n    onChange = (startDate, endDate) =>{\r\n        this.setState({ startDate, endDate })\r\n        this.props.onChange(startDate, endDate); \r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n        <ReactLightCalendar className=\"calender\" startDate={this.state.startDate} endDate={this.state.endDate} disableDates={date => date > new Date().getTime()} onChange={this.onChange} range displayTime />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  class Filter extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const date = new Date()\r\n        const startDate = date.getTime()\r\n        this.state = { \r\n        date_check: false,\r\n        startDate, // Today\r\n        endDate: new Date(startDate).setDate(date.getDate())\r\n        }\r\n    }\r\n    onDateChanged(e){\r\n        this.setState({date_check: !this.state.date_check});\r\n    };\r\n\r\n    onChange = (startDate, endDate) =>{\r\n      this.setState({ startDate, endDate })\r\n      //this.props.onDate(startDate, endDate); \r\n\r\n      this.props.ondateSubmit(startDate, endDate, \"dateFrom\", \"dateTo\")\r\n    }\r\n\r\n    render = () => {\r\n        const { startDate, endDate } = this.state\r\n        return (\r\n            <div className = \"dateFilter\">\r\n            <input type=\"checkbox\" name=\"Date\" checked={this.state.date_check} onChange={e => this.onDateChanged(e)}/> Date <br/>\r\n            {this.state.date_check === true ? <RenderCalender onChange={this.onChange} /> : \"\"}\r\n            </div>\r\n        )\r\n      }\r\n}  \r\n\r\nclass Facets extends React.Component {\r\n    state = {\r\n        name: {},\r\n        query: \"\",\r\n        verified_check:false,\r\n        facet: {\r\n            poiName: [],\r\n            lang: [],\r\n            hashtags: [],\r\n            mentions: [],\r\n            loc: [],\r\n            dateTo:\"\",\r\n            dateFrom:\"\",\r\n            verified:\"\"\r\n        }\r\n    };\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (nextProps.facets !== prevState.name) {\r\n            console.log(nextProps.facets);\r\n            return { name: nextProps.facets };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    ondateSubmit = (fieldValue1,fieldValue2,fieldName1,fieldName2) => {\r\n        const facet = cloneDeep(this.state.facet);\r\n        facet[fieldName1] = fieldValue1\r\n        facet[fieldName2] = fieldValue2\r\n\r\n        this.setState({\r\n            facet\r\n        });\r\n\r\n        this.props.onFilter(JSON.stringify(facet));\r\n    }\r\n\r\n    onnameSubmit = (e, fieldValue, fieldName) => {\r\n        const facet = cloneDeep(this.state.facet);\r\n        if (fieldName && fieldValue && facet[fieldName].includes(fieldValue)) {\r\n            const index = facet[fieldName].indexOf(fieldValue);\r\n            if (index > -1) {\r\n                facet[fieldName].splice(index, 1);\r\n            }\r\n        } else  {\r\n            facet[fieldName].push(fieldValue);\r\n        }\r\n        this.setState({\r\n            facet\r\n        });\r\n        console.log(facet)\r\n        this.props.onFilter(JSON.stringify(facet));\r\n    };\r\n\r\n    onVerifiedChanged(e){\r\n        this.setState({verified_check: !this.state.verified_check});\r\n        console.log(!this.state.verified_check)\r\n        var verified = !this.state.verified_check\r\n        console.log(verified)\r\n        this.onverified(verified, \"verified\")\r\n    };\r\n\r\n    onverified= (fieldValue, fieldName) => {\r\n        const facet = cloneDeep(this.state.facet);\r\n        facet[fieldName] = fieldValue\r\n\r\n        this.setState({\r\n            facet\r\n        });\r\n        console.log(JSON.stringify(facet))\r\n        this.props.onFilter(JSON.stringify(facet));\r\n    };\r\n\r\n    onReset = () => {\r\n        this.setState({\r\n            facet:{\r\n                poiName: [],\r\n                lang: [],\r\n                hashtags: [],\r\n                mentions: [],\r\n                loc: [],\r\n                dateTo:\"\",\r\n                dateFrom:\"\",\r\n                verified:\"\"\r\n            }\r\n        })\r\n        this.props.onFilter(JSON.stringify(this.state.facet));\r\n    }\r\n\r\n    render() {\r\n        const { name, facet } = this.state;\r\n        return (\r\n            <div>\r\n                <div className=\"facetWrapper\">\r\n                    <button className=\"resetButtonClass\" onClick={e => this.onReset(e)}>reset</button>\r\n                </div>\r\n                <div className = \"facetCard\">\r\n                    <div className = \"facetWrapper\">\r\n                        <Filter ondateSubmit={this.ondateSubmit} />\r\n                    </div>\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Verified Users</h5>\r\n                        <input type=\"checkbox\" name=\"Verified\" onChange={e => this.onVerifiedChanged(e)}/> Verified <br/>\r\n                    </div>\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Trending Users</h5>\r\n                        {name && name.userScreenName ? (\r\n                            <React.Fragment>\r\n                                {name.userScreenName.map(poi_name => {\r\n                                    const checked = facet.poiName.includes(poi_name);\r\n                                    return (\r\n                                        <div className=\"facetName\"\r\n                                        >\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_name, \"poiName\")}\r\n                                            />\r\n                                            <span>{poi_name}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div>\r\n\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Languages</h5>\r\n                        {name && name.lang ? (\r\n                            <React.Fragment>\r\n                                {name.lang.map(poi_lang => {\r\n                                    const checked = facet.lang.includes(poi_lang);\r\n                                    return (\r\n                                        <div className=\"facetName\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_lang, \"lang\")}\r\n                                            />\r\n                                            <span>{poi_lang}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div>\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Trending Hashtags</h5>\r\n                        {name && name.hashtags ? (\r\n                            <React.Fragment>\r\n                                {name.hashtags.map(poi_hashtag => {\r\n                                    const checked = facet.hashtags.includes(poi_hashtag);\r\n                                    return (\r\n                                        <div className=\"facetName\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_hashtag, \"hashtags\")}\r\n                                            />\r\n                                            <span>{poi_hashtag}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div>\r\n                    {/* <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Mentions</h5>\r\n                        {name && name.mentions ? (\r\n                            <React.Fragment>\r\n                                {name.mentions.map(poi_mention => {\r\n                                    const checked = facet.mentions.includes(poi_mention);\r\n                                    return (\r\n                                        <div className=\"facetName\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_mention, \"mentions\")}\r\n                                            />\r\n                                            <span>{poi_mention}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div> */}\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Trending Locations</h5>\r\n                        {name && name.userLocation ? (\r\n                            <React.Fragment>\r\n                                {name.userLocation.map(poi_location => {\r\n                                    const checked = facet.loc.includes(poi_location);\r\n                                    return (\r\n                                        <div className=\"facetName\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_location, \"loc\")}\r\n                                            />\r\n                                            <span>{poi_location}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Facets;\r\n"]},"metadata":{},"sourceType":"module"}