{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\17165\\\\Documents\\\\Sem1\\\\IR\\\\twilytics_frontend\\\\src\\\\components\\\\facets.js\";\nimport React from \"react\";\nimport \"./facets.css\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport ReactLightCalendar from '@lls/react-light-calendar';\nimport '@lls/react-light-calendar/dist/index.css';\n\nclass RenderCalender extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = (startDate, endDate) => {\n      this.setState({\n        startDate,\n        endDate\n      });\n      this.props.onChange(startDate, endDate);\n    };\n\n    const date = new Date();\n\n    const _startDate = date.getTime();\n\n    this.state = {\n      startDate: _startDate,\n      // Today\n      endDate: new Date(_startDate).setDate(date.getDate())\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, React.createElement(ReactLightCalendar, {\n      className: \"calender\",\n      startDate: this.state.startDate,\n      endDate: this.state.endDate,\n      disableDates: date => date > new Date().getTime(),\n      onChange: this.onChange,\n      range: true,\n      displayTime: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass Filter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = (startDate, endDate) => {\n      this.setState({\n        startDate,\n        endDate\n      }); //this.props.onDate(startDate, endDate); \n\n      Facets.onnameSubmit(startDate, \"dateFrom\");\n      Facets.onnameSubmit(endDate, \"dateTo\");\n    };\n\n    this.render = () => {\n      const _this$state = this.state,\n            startDate = _this$state.startDate,\n            endDate = _this$state.endDate;\n      return React.createElement(\"div\", {\n        className: \"dateFilter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        name: \"Date\",\n        checked: this.state.date_check,\n        onChange: e => this.onDateChanged(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), \" Date \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), this.state.date_check === true ? React.createElement(RenderCalender, {\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }) : \"\");\n    };\n\n    const date = new Date();\n\n    const _startDate2 = date.getTime();\n\n    this.state = {\n      date_check: false,\n      startDate: _startDate2,\n      // Today\n      endDate: new Date(_startDate2).setDate(date.getDate())\n    };\n  }\n\n  onDateChanged(e) {\n    this.setState({\n      date_check: !this.state.date_check\n    });\n  }\n\n}\n\nclass Facets extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: {},\n      query: \"\",\n      facet: {\n        poiName: [],\n        lang: [],\n        hashtags: [],\n        mentions: [],\n        loc: [],\n        dateTo: 0,\n        dateFrom: 0,\n        verified: \"\"\n      }\n    };\n\n    this.onnameSubmit = (e, fieldValue, fieldName) => {\n      const facet = cloneDeep(this.state.facet);\n\n      if (fieldName && fieldValue && facet[fieldName].includes(fieldValue)) {\n        const index = facet[fieldName].indexOf(fieldValue);\n\n        if (index > -1) {\n          facet[fieldName].splice(index, 1);\n        }\n      } else {\n        facet[fieldName].push(fieldValue);\n      }\n\n      this.setState({\n        facet\n      });\n      this.props.onFilter(JSON.stringify(facet));\n    };\n\n    this.onReset = {};\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.facets !== prevState.name) {\n      console.log(nextProps.facets);\n      return {\n        name: nextProps.facets\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          name = _this$state2.name,\n          facet = _this$state2.facet;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"facetCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Filter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"User Name\"), name && name.userScreenName ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, name.userScreenName.map(poi_name => {\n      const checked = facet.poiName.includes(poi_name);\n      return React.createElement(\"div\", {\n        className: \"facetName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: checked,\n        onChange: e => this.onnameSubmit(e, poi_name, \"poiName\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, poi_name));\n    })) : null), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Language\"), name && name.lang ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, name.lang.map(poi_lang => {\n      const checked = facet.lang.includes(poi_lang);\n      return React.createElement(\"div\", {\n        className: \"facetName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: checked,\n        onChange: e => this.onnameSubmit(e, poi_lang, \"lang\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, poi_lang));\n    })) : null), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Hashtags\"), name && name.hashtags ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, name.hashtags.map(poi_hashtag => {\n      const checked = facet.hashtags.includes(poi_hashtag);\n      return React.createElement(\"div\", {\n        className: \"facetName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: checked,\n        onChange: e => this.onnameSubmit(e, poi_hashtag, \"hashtags\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, poi_hashtag));\n    })) : null), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Mentions\"), name && name.mentions ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, name.mentions.map(poi_mention => {\n      const checked = facet.mentions.includes(poi_mention);\n      return React.createElement(\"div\", {\n        className: \"facetName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: checked,\n        onChange: e => this.onnameSubmit(e, poi_mention, \"mentions\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, poi_mention));\n    })) : null), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Location\"), name && name.userLocation ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, name.userLocation.map(poi_location => {\n      const checked = facet.loc.includes(poi_location);\n      return React.createElement(\"div\", {\n        className: \"facetName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: checked,\n        onChange: e => this.onnameSubmit(e, poi_location, \"loc\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, poi_location));\n    })) : null), React.createElement(\"div\", {\n      className: \"facetWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"resetButtonClass\",\n      onClick: e => this.onReset(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"reset\"))));\n  }\n\n}\n\nexport default Facets;","map":{"version":3,"sources":["C:/Users/17165/Documents/Sem1/IR/twilytics_frontend/src/components/facets.js"],"names":["React","cloneDeep","ReactLightCalendar","RenderCalender","Component","constructor","props","onChange","startDate","endDate","setState","date","Date","getTime","state","setDate","getDate","render","Filter","Facets","onnameSubmit","date_check","e","onDateChanged","name","query","facet","poiName","lang","hashtags","mentions","loc","dateTo","dateFrom","verified","fieldValue","fieldName","includes","index","indexOf","splice","push","onFilter","JSON","stringify","onReset","getDerivedStateFromProps","nextProps","prevState","facets","console","log","userScreenName","map","poi_name","checked","poi_lang","poi_hashtag","poi_mention","userLocation","poi_location"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./facets.css\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport ReactLightCalendar from '@lls/react-light-calendar'\r\nimport '@lls/react-light-calendar/dist/index.css'\r\n\r\nclass RenderCalender extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const date = new Date()\r\n        const startDate = date.getTime()\r\n        this.state = { \r\n          startDate, // Today\r\n          endDate: new Date(startDate).setDate(date.getDate()),\r\n        }\r\n    }\r\n\r\n    onChange = (startDate, endDate) =>{\r\n        this.setState({ startDate, endDate })\r\n        this.props.onChange(startDate, endDate); \r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n        <ReactLightCalendar className=\"calender\" startDate={this.state.startDate} endDate={this.state.endDate} disableDates={date => date > new Date().getTime()} onChange={this.onChange} range displayTime />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  class Filter extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const date = new Date()\r\n        const startDate = date.getTime()\r\n        this.state = { \r\n        date_check: false,\r\n        startDate, // Today\r\n        endDate: new Date(startDate).setDate(date.getDate())\r\n        }\r\n    }\r\n    onDateChanged(e){\r\n        this.setState({date_check: !this.state.date_check});\r\n    };\r\n\r\n    onChange = (startDate, endDate) =>{\r\n      this.setState({ startDate, endDate })\r\n      //this.props.onDate(startDate, endDate); \r\n\r\n      Facets.onnameSubmit(startDate, \"dateFrom\")\r\n      Facets.onnameSubmit(endDate, \"dateTo\")\r\n    }\r\n\r\n    render = () => {\r\n        const { startDate, endDate } = this.state\r\n        return (\r\n            <div className = \"dateFilter\">\r\n            <input type=\"checkbox\" name=\"Date\" checked={this.state.date_check} onChange={e => this.onDateChanged(e)}/> Date <br/>\r\n            {this.state.date_check === true ? <RenderCalender onChange={this.onChange} /> : \"\"}\r\n            </div>\r\n        )\r\n      }\r\n}  \r\n\r\nclass Facets extends React.Component {\r\n    state = {\r\n        name: {},\r\n        query: \"\",\r\n        facet: {\r\n            poiName: [],\r\n            lang: [],\r\n            hashtags: [],\r\n            mentions: [],\r\n            loc: [],\r\n            dateTo:0,\r\n            dateFrom:0,\r\n            verified:\"\"\r\n        }\r\n    };\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (nextProps.facets !== prevState.name) {\r\n            console.log(nextProps.facets);\r\n            return { name: nextProps.facets };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    onnameSubmit = (e, fieldValue, fieldName) => {\r\n        const facet = cloneDeep(this.state.facet);\r\n\r\n        if (fieldName && fieldValue && facet[fieldName].includes(fieldValue)) {\r\n            const index = facet[fieldName].indexOf(fieldValue);\r\n            if (index > -1) {\r\n                facet[fieldName].splice(index, 1);\r\n            }\r\n        } else  {\r\n            facet[fieldName].push(fieldValue);\r\n        }\r\n        this.setState({\r\n            facet\r\n        });\r\n\r\n        this.props.onFilter(JSON.stringify(facet));\r\n    };\r\n\r\n    onReset ={\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { name, facet } = this.state;\r\n        return (\r\n            <div>\r\n                <div className = \"facetCard\">\r\n                    <div className = \"facetWrapper\">\r\n                        <Filter />\r\n                    </div>\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">User Name</h5>\r\n                        {name && name.userScreenName ? (\r\n                            <React.Fragment>\r\n                                {name.userScreenName.map(poi_name => {\r\n                                    const checked = facet.poiName.includes(poi_name);\r\n                                    return (\r\n                                        <div className=\"facetName\"\r\n                                        >\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_name, \"poiName\")}\r\n                                            />\r\n                                            <span>{poi_name}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div>\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Language</h5>\r\n                        {name && name.lang ? (\r\n                            <React.Fragment>\r\n                                {name.lang.map(poi_lang => {\r\n                                    const checked = facet.lang.includes(poi_lang);\r\n                                    return (\r\n                                        <div className=\"facetName\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_lang, \"lang\")}\r\n                                            />\r\n                                            <span>{poi_lang}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div>\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Hashtags</h5>\r\n                        {name && name.hashtags ? (\r\n                            <React.Fragment>\r\n                                {name.hashtags.map(poi_hashtag => {\r\n                                    const checked = facet.hashtags.includes(poi_hashtag);\r\n                                    return (\r\n                                        <div className=\"facetName\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_hashtag, \"hashtags\")}\r\n                                            />\r\n                                            <span>{poi_hashtag}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div>\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Mentions</h5>\r\n                        {name && name.mentions ? (\r\n                            <React.Fragment>\r\n                                {name.mentions.map(poi_mention => {\r\n                                    const checked = facet.mentions.includes(poi_mention);\r\n                                    return (\r\n                                        <div className=\"facetName\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_mention, \"mentions\")}\r\n                                            />\r\n                                            <span>{poi_mention}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div>\r\n                    <div className=\"facetWrapper\">\r\n                        <h5 className=\"header\">Location</h5>\r\n                        {name && name.userLocation ? (\r\n                            <React.Fragment>\r\n                                {name.userLocation.map(poi_location => {\r\n                                    const checked = facet.loc.includes(poi_location);\r\n                                    return (\r\n                                        <div className=\"facetName\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={checked}\r\n                                                onChange={e => this.onnameSubmit(e, poi_location, \"loc\")}\r\n                                            />\r\n                                            <span>{poi_location}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </React.Fragment>\r\n                        ) : null}\r\n                    </div>\r\n                    <div className=\"facetWrapper\">\r\n                        <button className=\"resetButtonClass\" onClick={e => this.onReset(e)}>reset</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Facets;\r\n"]},"metadata":{},"sourceType":"module"}